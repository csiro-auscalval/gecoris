.. _reflector_monitoring:

********************
Reflector monitoring
********************

This module performs measurement extraction for all reflectors in a network, computes Absolute Positioning Errors (APE), Radar Cross Section (RCS), Signal-to-Clutter Ratio (SCR) and generates reports and plots.

This module assumes you have already prepared SLC stacks of your AOI using SNAP, see :ref:`snap_processing`.

The analysis runs automatically on the network-specific station log-files prepared by user in ``.json`` format.

.. note::

   Co-registration is not needed for operational monitoring of the reflectivity and positioning accuracy. 
   Analysis runs on the ``slaves`` directory.

Station log-files
-----------------

Template station log-files:

- :download:`reflectors.json <../templates/reflectors.json>`
- :download:`stacks.json <../templates/stacks.json>`

.. note::

   Contents of ``reflectors.json`` and ``stacks.json`` can be merged into a single file.


For networks containing many reflectors, ``csv`` input format can be used instead:

- :download:`reflectors.csv <../templates/reflectors.csv>`
- :download:`stacks.csv <../templates/stacks.csv>`


Time series analysis
--------------------

Prepare input parameters file :download:`gecoris.parms <../templates/gecoris.parms>`:

.. code:: python

   {
   "project" : 'PEM2',
   "stationLog" : '/home/rc/CR_Partizanske/reflectors.json',
   "stackLog" : '/home/rc/CR_Partizanske/stacks.json',
   "outDir" : '/home/rc/CR_Partizanske/gecoris/',
   "precisePosFlag" : 1,           # 0 = approx. / 1 = precise positioning
   "plotFlag" : 1,                 # 0 = no plots / 1 = sparse plots / 2 = detailed plots
   "atmoFlag" : 0,	                # 0 / 1 = use external models for atmo. delay correction
   "ovsFactor" : 32                # FFT oversampling factor
   }
