

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gecoris.geoUtils &mdash; gecoris 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Definitions" href="definitions.html" />
    <link rel="prev" title="gecoris.insarUtils" href="insarUtils.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> gecoris
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Sentinel_download.html">Sentinel-1 data download</a></li>
<li class="toctree-l1"><a class="reference internal" href="SNAP_processing.html">SNAP processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="insar_processing.html">InSAR processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="corner_reflector_module.html">Corner reflector module</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="insarUtils.html">gecoris.insarUtils</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">gecoris.geoUtils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="definitions.html">Definitions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">gecoris</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">Modules</a> &raquo;</li>
        
      <li>gecoris.geoUtils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/geoUtils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-gecoris.geoUtils">
<span id="gecoris-geoutils"></span><h1>gecoris.geoUtils<a class="headerlink" href="#module-gecoris.geoUtils" title="Permalink to this headline">¶</a></h1>
<p>geoUtils</p>
<p>Module containing geodetic utility functions</p>
<p>Copyright (C) 2021 by R.Czikhardt</p>
<p>Email: <a class="reference external" href="mailto:czikhardt&#46;richard&#37;&#52;&#48;gmail&#46;com">czikhardt<span>&#46;</span>richard<span>&#64;</span>gmail<span>&#46;</span>com</a>
Last edit: 1.7.2021</p>
<p>This file is part of GECORIS - Geodetic Corner Reflector (In)SAR Toolbox.</p>
<blockquote>
<div><p>GECORIS is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>GECORIS is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with GECORIS. If not, see &lt;<a class="reference external" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.</p>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.decimalYear">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">decimalYear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.decimalYear" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a decimal year
input: date in ‘YYYYMMDD’ string format</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.etrf2itrf">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">etrf2itrf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyzETRF</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.etrf2itrf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a np.array([x,y,z]) in ITRF2014 epoch t</p>
<p>Transformation from ETRF2000 into ITRF2014 at epoch t</p>
<p>input: np.array([x,y,z]) in ETRF2000 epoch t0 = 2010.0</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.getSET">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">getSET</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyzP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.getSET" title="Permalink to this definition">¶</a></dt>
<dd><p>% function to compute effect of SET in tide-free model on ECEF coordinates
% of station in ITRF</p>
<p>% according to IERS conventions 2003
% matlab original kindly provided by Dr. Branislav Habel
% Department of Theoretical Geodesy, SUT Bratislava, Slovakia</p>
<p>% ——
% input:
% - xyzP   - TRF position of reflector
% - date   - date of acquisition (‘YYYYMMDD’)
% - t      - seconds of day for satellite zero-Doppler position</p>
<p>% output:
% - xyzSET - effect of SET on ECEF coordinates in [m]
% ——</p>
<p>% part of Geodetic radar reflector toolbox &amp; g-mapit
% 15.6.2020
% R. Czikhardt
%% ————————————————————————</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.itrf2itrf">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">itrf2itrf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2010.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.itrf2itrf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a np.array([x,y,z]) in ITRF2014 epoch t</p>
<p>Transformation from ITRF2014 t0=2010.0 into ITRF2014 at epoch t</p>
<p>input: np.array([x,y,z]) in ITRF2014 epoch t0 = 2010.0</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.nev2los">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">nev2los</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nev</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">heading</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incidence</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.nev2los" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy.array of LOS differences</p>
<p>Transformation of local topocentric coordinate differences (nev) to
satellite line-of-sight (LOS) differences for given acquisition heading
(w.r.t. north) and incidence angle.</p>
<dl class="simple">
<dt>input:  numpy.array([n,e,v]) in [m]</dt><dd><p>heading, incidence in [radians]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.nev2xyz">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">nev2xyz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nev</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.nev2xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy.array([dx,dy,dz]) of ECEF coordinate differences</p>
<p>Transformation of local topocentric differences to ECEF coordinate
differences for given point with ellipsoidal plh coordiantes.</p>
<dl class="simple">
<dt>input:  numpy.array([n,e,v]) in [m]</dt><dd><p>numpy.array([phi,lambda,h]) in [radians]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.orbitFit">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">orbitFit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orbit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotFlag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.orbitFit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a orbitFit dict</p>
<p>Satellite state vector interpolation using Chebyshev polynomials of
7th order (according to DLR recommendations). Function returns Chebyshev
polynomial coefficients. Use these to evaluate orbit state at given time
via function ‘orbitVal’.</p>
<p>input: snappy ‘orbit’ object (as read by ‘readMetadata’ function)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.orbitVal">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">orbitVal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orbitFit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tAzi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.orbitVal" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a orbit state vector and velocity</p>
<p>Eevaluate orbit state vector at given azimuth time using fitted Chebyshev
polynomials by function ‘orbitFit’.</p>
<dl class="simple">
<dt>input: ‘orbitFit’ dict (as generated by ‘orbitFit’ function)</dt><dd><p>tAz - azimuth time [seconds of day]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.plh2xyz">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">plh2xyz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.plh2xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy.array([x,y,z]) of ECEF coordinates</p>
<p>Transformation of ellipsoidal to ECEF coordinates using GRS80 ellipsoid.</p>
<p>input: numpy.array([phi,lambda,h]) in [radians]</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.roundTime">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">roundTime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roundTo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.roundTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Round a datetime object to any time lapse in seconds
dt : datetime.datetime object, default now.
roundTo : Closest number of seconds to round to, default 1 minute.
Author: Thierry Husson 2012 - Use it as you want but don’t blame me.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.sod2UTC">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">sod2UTC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seconds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.sod2UTC" title="Permalink to this definition">¶</a></dt>
<dd><p>Return UTC string
input: seconds of day (sod)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.tropoDelay">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">tropoDelay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satVec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'approx'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.tropoDelay" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a slant tropospheric delay in [s]</p>
<p>Between satellite state vector and ECEF position.</p>
<p>input: np.array([x,y,z]) ECEF coordinates and satVec</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.xyz2nev">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">xyz2nev</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plh</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.xyz2nev" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy.array([n,e,v]) of topocentric coordiantes</p>
<p>Transformation of ECEF coordinate differences to local topocentric
differences to for given point with ellipsoidal plh coordiantes.</p>
<dl class="simple">
<dt>input:  numpy.array([n,e,v]) in [m]</dt><dd><p>numpy.array([phi,lambda,h]) in [radians]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.xyz2plh">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">xyz2plh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.xyz2plh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy.array([phi,lambda,h]) of GRS80 ellipsoidal coordinates
in [radians]</p>
<p>Transformation of ECEF coordinates to GRS80 ellipsoidal coordinates using
iteration method.</p>
<p>input: numpy.array([x,y,z])</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gecoris.geoUtils.xyz2zas">
<span class="sig-prename descclassname"><span class="pre">gecoris.geoUtils.</span></span><span class="sig-name descname"><span class="pre">xyz2zas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satVec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gecoris.geoUtils.xyz2zas" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a np.array([z,a,s]) of zenith,azimuth [rad] and distance [m]</p>
<p>Between satellite state vector and ECEF position.</p>
<p>input: np.array([x,y,z]) ECEF coordinates</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="definitions.html" class="btn btn-neutral float-right" title="Definitions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="insarUtils.html" class="btn btn-neutral float-left" title="gecoris.insarUtils" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Richard Czikhardt

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>